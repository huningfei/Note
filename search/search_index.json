{"config":{"lang":["en"],"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"\u5e38\u542c\u4eba\u8bf4\uff0c\u5e74\u8f7b\u5c31\u662f\u8d44\u672c\uff0c\u56e0\u4e3a\u5e74\u8f7b\uff0c\u6240\u4ee5\u6709\u65e0\u9650\u7684\u53ef\u80fd\u3002\u8fd9\u53e5\u8bdd\uff0c\u6211\u53ea\u540c\u610f\u4e00\u534a\u3002\u6211\u4e00\u76f4\u89c9\u5f97\uff0c\u5e74\u8f7b\u4e0d\u662f\u8d44\u672c\uff0c\u5e74\u8f7b\u53c8\u52aa\u529b\u624d\u4f1a\u6210\u4e3a\u8d44\u672c\u3002\u6e05\u695a\u81ea\u5df1\u60f3\u8981\u7684\uff0c\u7136\u540e\u4e00\u6b65\u4e00\u6b65\u63a5\u8fd1\u76ee\u6807\uff0c\u65e2\u6709\u96c4\u5fc3\u4e07\u4e08\u7684\u62b1\u8d1f\u3001\u6c34\u6ef4\u77f3\u7a7f\u7684\u575a\u6301\uff0c\u4e5f\u8981\u6709\u4e0d\u8f7b\u6613\u670d\u8f93\u7684\u52c7\u6c14\u548c\u8fce\u96be\u800c\u4e0a\u7684\u97e7\u52b2\uff01","title":"\u4e00. \u4ecb\u7ecd"},{"location":"elasticsearch/install/","text":"es6.6\u5b89\u88c5\u5355\u53f0\u73af\u5883 \u00b6 \u5b89\u88c5java\u73af\u5883 \u00b6 jdk\u5b89\u88c5\uff0c\u6700\u597d\u662f\u57281.8\u4ee5\u4e0a\uff0c\u4e0b\u9762\u7684\u8def\u5f84\u6839\u636e\u5b9e\u9645\u60c5\u51b5\u800c\u5b9a \u89e3\u538b \uff1a tar zxvf jdk - 8 u60 - linux - i586 . tar . gz \u79fb\u52a8 \uff1a sudo mv jdk1 .8.0_60 / usr / local / sudo vim / etc / profile . d / java . sh\u52a0\u5165\u8fd9\u51e0\u884c JAVA_HOME =/ usr / local / jdk1 .8.0_60 JAVA_BIN =/ usr / local / jdk1 .8.0_60 / bin JRE_HOME =/ usr / local / jdk1 .8.0_60 / jre PATH = $PATH :/ usr / local / jdk1 .8.0_60 / bin :/ usr / local / jdk1 .8.0_60 / jre / bin CLASSPATH =/ usr / local / jdk1 .8.0_60 / jre / lib :/ usr / local / jdk1 .8.0_60 / lib :/ usr / local / jdk1 .8.0_60 / jre / lib / charsets . jar \u521d\u59cb\u5316 source / etc / profile . d / java . sh \u6700\u540e\u8fd0\u884c \uff1a java - version \u4f1a\u51fa\u6765\u7248\u672c\u4fe1\u606f \u5b89\u88c5es \u00b6 \u4e0b\u8f7d\uff0c\u89e3\u538b\uff0c\u5e76\u66f4\u6539\u914d\u7f6e\u6587\u4ef6 grep -v \"^#\" elasticsearch.yml | grep -v \"^ $ \" cluster.name: test # \u96c6\u7fa4\u540d\u79f0 node.name: node-1 # \u8282\u70b9\u540d path.data: /home/yx/server/elasticsearch/data #\u6570\u636e\u76ee\u5f55 path.logs: /home/yx/server/elasticsearch/logs # \u65e5\u5fd7\u76ee\u5f55 bootstrap.memory_lock: false bootstrap.system_call_filter: false # \u4e3a\u4e86\u89e3\u51b3\u542f\u52a8\u5931\u8d25\u6dfb\u52a0\u7684 network.host: 0 .0.0.0 #\u672c\u673aip http.port: 9200 #\u7aef\u53e3\u53f7 http.cors.enabled: true # \u662f\u4e3a\u4e86head\u63d2\u4ef6\u53ef\u4ee5\u8bbf\u95eees http.cors.allow-origin: \"*\" # \u662f\u4e3a\u4e86head\u63d2\u4ef6\u53ef\u4ee5\u8bbf\u95eees \u542f\u52a8\u65b9\u6cd5 \u00b6 \u542f\u52a8 /home/yx/server/elasticsearch/bin/elasticsearch #\u524d\u53f0\u542f\u52a8 /home/yx/server/elasticsearch/bin/elasticsearch -d #\u540e\u53f0\u542f\u52a8 \u542f\u52a8\u62a5\u9519\u5904\u7406 \u00b6 max file descriptors [4096] for elasticsearch process is too low, increase to at least [65536] \u89e3\u51b3\u65b9\u6848\uff1a \u5207\u5230root \u7528\u6237\uff1a\u8fdb\u5165\u5230security\u76ee\u5f55\u4e0b\u7684limits.conf\uff1b\u6267\u884c\u547d\u4ee4 vim /etc/security/limits.conf \u5728\u6587\u4ef6\u7684\u672b\u5c3e\u6dfb\u52a0\u4e0b\u9762\u7684\u53c2\u6570\u503c\uff1a * soft nofile 65536 * hard nofile 131072 * soft nproc 4096 * hard nproc 4096 \u524d\u9762\u7684*\u7b26\u53f7\u5fc5\u987b\u5e26\u4e0a\uff0c\u7528\u6237\u91cd\u65b0\u767b\u5f55\u5c31\u53ef\u4ee5\u4e86\u3002\u6267\u884c\u5b8c\u6210\u540e\u53ef\u4ee5\u4f7f\u7528\u547d\u4ee4 ulimit -n \u67e5\u770b\u8fdb\u7a0b\u6570 \u3002 ulimit -Hu ulimit -Su - max virtual memory areas vm.max_map_count [65530] is too low, increase to at least [262144] \u89e3\u51b3\u65b9\u6848\uff1a\u5207\u6362\u5230root\u7528\u6237\u4fee\u6539\u914d\u7f6esysctl.conf sudo vim /etc/sysctl.conf \u589e\u52a0\u914d\u7f6e\u503c\uff1a vm.max_map_count = 655360 sudo sysctl -p ERROR: bootstrap checks failed system call filters failed to install; check the logs and fix your configuration or disable system call filters at your own risk \u95ee\u9898\u539f\u56e0\uff1a\u56e0\u4e3aCentos6\u4e0d\u652f\u6301SecComp\uff0c\u800cES5.2.1\u9ed8\u8ba4bootstrap.system_call_filter\u4e3atrue\u8fdb\u884c\u68c0\u6d4b\uff0c\u6240\u4ee5\u5bfc\u81f4\u68c0\u6d4b\u5931\u8d25\uff0c\u5931\u8d25\u540e\u76f4\u63a5\u5bfc\u81f4ES\u4e0d\u80fd\u542f\u52a8\u3002\u8be6\u89c1 \uff1ahttps://github.com/elastic/elasticsearch/issues/22899 \u89e3\u51b3\u65b9\u6cd5\uff1a\u5728elasticsearch.yml\u4e2d\u914d\u7f6ebootstrap.system_call_filter\u4e3afalse\uff0c\u6ce8\u610f\u8981\u5728Memory\u4e0b\u9762: bootstrap.memory_lock: false bootstrap.system_call_filter: false # \u9ed8\u8ba4\u8fd9\u884c\u662f\u6ca1\u6709\u7684\uff0c\u9700\u8981\u624b\u52a8\u6dfb\u52a0 \u5b89\u88c5head\u63d2\u4ef6 \u00b6 \u5b89\u88c5Node.js https://npm.taobao.org/mirrors/node \u4e0b\u8f7d\u5730\u5740 wget https://npm.taobao.org/mirrors/node/v10.15.0/node-v10.15.0-linux-x64.tar.xz tar -xf node-v10.15.0-linux-x64.tar.xz sudo mv node-v10.15.0-linux-x64/ /usr/local/node \u914d\u7f6e\u5e76\u751f\u6548 sudo vim /etc/profile export NODE_HOME = /usr/local/node export PATH = $PATH : $NODE_HOME /bin source /etc/profile \u67e5\u770b\u7248\u672c\u9a8c\u8bc1 yx@php:~/src/es$ node -v v10.15.0 yx@php:~/src/es$ npm -v 6 .4.1 \u4e0b\u8f7dhead\u63d2\u4ef6 sudo apt-get install git -y git clone https://github.com/mobz/elasticsearch-head.git \u8bbe\u7f6e\u6dd8\u5b9d\u4ed3\u5e93\u5b89\u88c5cnpm npm install -g cnpm --registry = https://registry.npm.taobao.org \u5b89\u88c5grunt # \u8fdb\u53bb\u521a\u624d\u4e0b\u8f7d\u7684head\u63d2\u4ef6\u76ee\u5f55\u91cc\u9762 cd elasticsearch-head/ cnpm install # \u5b89\u88c5\u5404\u79cd\u4f9d\u8d56\u63d2\u4ef6 \u542f\u52a8head\u63d2\u4ef6\u670d\u52a1 \u7b2c\u4e00\u79cd\u542f\u52a8\u65b9\u5f0f: \u627e\u5bf9\u4f60\u7684 elasticsearch-head/\u76ee\u5f55\u6240\u5728\u7684\u8def\u5f84 \u8fdb\u5165\u5230 /home/yx/server/elasticsearch-head-master \u76ee\u5f55\u4e0b\u7136\u540e\u542f\u52a8 #\u540e\u53f0\u542f\u52a8 node_modules/grunt/bin/grunt server & # \u67e5\u770b\u662f\u5426\u542f\u52a8 yx@php:~/src/es/elasticsearch-head/node_modules$ sudo netstat -lnp | grep 9100 tcp 0 0 0 .0.0.0:9100 0 .0.0.0:* LISTEN 8760 /grunt \u5173\u95ed ps aux | grep grun \u67e5\u51faid,\u7136\u540ekill id \u7b2c\u4e8c\u79cd\u542f\u52a8\u65b9\u5f0f\uff1a npm run start & [ 1 ] 8807 yx@php:~/src/es/elasticsearch-head$ > elasticsearch-head@0.0.0 start /home/yx/src/es/elasticsearch-head > grunt server Running \"connect:server\" ( connect ) task Waiting forever... Started connect web server on http://localhost:9100 \u6d4f\u89c8\u5668\u9a8c\u8bc1 \u00b6","title":"1. \u5b89\u88c5"},{"location":"elasticsearch/install/#es66","text":"","title":"es6.6\u5b89\u88c5\u5355\u53f0\u73af\u5883"},{"location":"elasticsearch/install/#java","text":"jdk\u5b89\u88c5\uff0c\u6700\u597d\u662f\u57281.8\u4ee5\u4e0a\uff0c\u4e0b\u9762\u7684\u8def\u5f84\u6839\u636e\u5b9e\u9645\u60c5\u51b5\u800c\u5b9a \u89e3\u538b \uff1a tar zxvf jdk - 8 u60 - linux - i586 . tar . gz \u79fb\u52a8 \uff1a sudo mv jdk1 .8.0_60 / usr / local / sudo vim / etc / profile . d / java . sh\u52a0\u5165\u8fd9\u51e0\u884c JAVA_HOME =/ usr / local / jdk1 .8.0_60 JAVA_BIN =/ usr / local / jdk1 .8.0_60 / bin JRE_HOME =/ usr / local / jdk1 .8.0_60 / jre PATH = $PATH :/ usr / local / jdk1 .8.0_60 / bin :/ usr / local / jdk1 .8.0_60 / jre / bin CLASSPATH =/ usr / local / jdk1 .8.0_60 / jre / lib :/ usr / local / jdk1 .8.0_60 / lib :/ usr / local / jdk1 .8.0_60 / jre / lib / charsets . jar \u521d\u59cb\u5316 source / etc / profile . d / java . sh \u6700\u540e\u8fd0\u884c \uff1a java - version \u4f1a\u51fa\u6765\u7248\u672c\u4fe1\u606f","title":"\u5b89\u88c5java\u73af\u5883"},{"location":"elasticsearch/install/#es","text":"\u4e0b\u8f7d\uff0c\u89e3\u538b\uff0c\u5e76\u66f4\u6539\u914d\u7f6e\u6587\u4ef6 grep -v \"^#\" elasticsearch.yml | grep -v \"^ $ \" cluster.name: test # \u96c6\u7fa4\u540d\u79f0 node.name: node-1 # \u8282\u70b9\u540d path.data: /home/yx/server/elasticsearch/data #\u6570\u636e\u76ee\u5f55 path.logs: /home/yx/server/elasticsearch/logs # \u65e5\u5fd7\u76ee\u5f55 bootstrap.memory_lock: false bootstrap.system_call_filter: false # \u4e3a\u4e86\u89e3\u51b3\u542f\u52a8\u5931\u8d25\u6dfb\u52a0\u7684 network.host: 0 .0.0.0 #\u672c\u673aip http.port: 9200 #\u7aef\u53e3\u53f7 http.cors.enabled: true # \u662f\u4e3a\u4e86head\u63d2\u4ef6\u53ef\u4ee5\u8bbf\u95eees http.cors.allow-origin: \"*\" # \u662f\u4e3a\u4e86head\u63d2\u4ef6\u53ef\u4ee5\u8bbf\u95eees","title":"\u5b89\u88c5es"},{"location":"elasticsearch/install/#_1","text":"\u542f\u52a8 /home/yx/server/elasticsearch/bin/elasticsearch #\u524d\u53f0\u542f\u52a8 /home/yx/server/elasticsearch/bin/elasticsearch -d #\u540e\u53f0\u542f\u52a8","title":"\u542f\u52a8\u65b9\u6cd5"},{"location":"elasticsearch/install/#_2","text":"max file descriptors [4096] for elasticsearch process is too low, increase to at least [65536] \u89e3\u51b3\u65b9\u6848\uff1a \u5207\u5230root \u7528\u6237\uff1a\u8fdb\u5165\u5230security\u76ee\u5f55\u4e0b\u7684limits.conf\uff1b\u6267\u884c\u547d\u4ee4 vim /etc/security/limits.conf \u5728\u6587\u4ef6\u7684\u672b\u5c3e\u6dfb\u52a0\u4e0b\u9762\u7684\u53c2\u6570\u503c\uff1a * soft nofile 65536 * hard nofile 131072 * soft nproc 4096 * hard nproc 4096 \u524d\u9762\u7684*\u7b26\u53f7\u5fc5\u987b\u5e26\u4e0a\uff0c\u7528\u6237\u91cd\u65b0\u767b\u5f55\u5c31\u53ef\u4ee5\u4e86\u3002\u6267\u884c\u5b8c\u6210\u540e\u53ef\u4ee5\u4f7f\u7528\u547d\u4ee4 ulimit -n \u67e5\u770b\u8fdb\u7a0b\u6570 \u3002 ulimit -Hu ulimit -Su - max virtual memory areas vm.max_map_count [65530] is too low, increase to at least [262144] \u89e3\u51b3\u65b9\u6848\uff1a\u5207\u6362\u5230root\u7528\u6237\u4fee\u6539\u914d\u7f6esysctl.conf sudo vim /etc/sysctl.conf \u589e\u52a0\u914d\u7f6e\u503c\uff1a vm.max_map_count = 655360 sudo sysctl -p ERROR: bootstrap checks failed system call filters failed to install; check the logs and fix your configuration or disable system call filters at your own risk \u95ee\u9898\u539f\u56e0\uff1a\u56e0\u4e3aCentos6\u4e0d\u652f\u6301SecComp\uff0c\u800cES5.2.1\u9ed8\u8ba4bootstrap.system_call_filter\u4e3atrue\u8fdb\u884c\u68c0\u6d4b\uff0c\u6240\u4ee5\u5bfc\u81f4\u68c0\u6d4b\u5931\u8d25\uff0c\u5931\u8d25\u540e\u76f4\u63a5\u5bfc\u81f4ES\u4e0d\u80fd\u542f\u52a8\u3002\u8be6\u89c1 \uff1ahttps://github.com/elastic/elasticsearch/issues/22899 \u89e3\u51b3\u65b9\u6cd5\uff1a\u5728elasticsearch.yml\u4e2d\u914d\u7f6ebootstrap.system_call_filter\u4e3afalse\uff0c\u6ce8\u610f\u8981\u5728Memory\u4e0b\u9762: bootstrap.memory_lock: false bootstrap.system_call_filter: false # \u9ed8\u8ba4\u8fd9\u884c\u662f\u6ca1\u6709\u7684\uff0c\u9700\u8981\u624b\u52a8\u6dfb\u52a0","title":"\u542f\u52a8\u62a5\u9519\u5904\u7406"},{"location":"elasticsearch/install/#head","text":"\u5b89\u88c5Node.js https://npm.taobao.org/mirrors/node \u4e0b\u8f7d\u5730\u5740 wget https://npm.taobao.org/mirrors/node/v10.15.0/node-v10.15.0-linux-x64.tar.xz tar -xf node-v10.15.0-linux-x64.tar.xz sudo mv node-v10.15.0-linux-x64/ /usr/local/node \u914d\u7f6e\u5e76\u751f\u6548 sudo vim /etc/profile export NODE_HOME = /usr/local/node export PATH = $PATH : $NODE_HOME /bin source /etc/profile \u67e5\u770b\u7248\u672c\u9a8c\u8bc1 yx@php:~/src/es$ node -v v10.15.0 yx@php:~/src/es$ npm -v 6 .4.1 \u4e0b\u8f7dhead\u63d2\u4ef6 sudo apt-get install git -y git clone https://github.com/mobz/elasticsearch-head.git \u8bbe\u7f6e\u6dd8\u5b9d\u4ed3\u5e93\u5b89\u88c5cnpm npm install -g cnpm --registry = https://registry.npm.taobao.org \u5b89\u88c5grunt # \u8fdb\u53bb\u521a\u624d\u4e0b\u8f7d\u7684head\u63d2\u4ef6\u76ee\u5f55\u91cc\u9762 cd elasticsearch-head/ cnpm install # \u5b89\u88c5\u5404\u79cd\u4f9d\u8d56\u63d2\u4ef6 \u542f\u52a8head\u63d2\u4ef6\u670d\u52a1 \u7b2c\u4e00\u79cd\u542f\u52a8\u65b9\u5f0f: \u627e\u5bf9\u4f60\u7684 elasticsearch-head/\u76ee\u5f55\u6240\u5728\u7684\u8def\u5f84 \u8fdb\u5165\u5230 /home/yx/server/elasticsearch-head-master \u76ee\u5f55\u4e0b\u7136\u540e\u542f\u52a8 #\u540e\u53f0\u542f\u52a8 node_modules/grunt/bin/grunt server & # \u67e5\u770b\u662f\u5426\u542f\u52a8 yx@php:~/src/es/elasticsearch-head/node_modules$ sudo netstat -lnp | grep 9100 tcp 0 0 0 .0.0.0:9100 0 .0.0.0:* LISTEN 8760 /grunt \u5173\u95ed ps aux | grep grun \u67e5\u51faid,\u7136\u540ekill id \u7b2c\u4e8c\u79cd\u542f\u52a8\u65b9\u5f0f\uff1a npm run start & [ 1 ] 8807 yx@php:~/src/es/elasticsearch-head$ > elasticsearch-head@0.0.0 start /home/yx/src/es/elasticsearch-head > grunt server Running \"connect:server\" ( connect ) task Waiting forever... Started connect web server on http://localhost:9100","title":"\u5b89\u88c5head\u63d2\u4ef6"},{"location":"elasticsearch/install/#_3","text":"","title":"\u6d4f\u89c8\u5668\u9a8c\u8bc1"}]}